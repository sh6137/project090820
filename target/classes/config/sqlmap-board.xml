<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boardDAO">
        <insert id="insert" parameterType="BoardVO">
                INSERT INTO MEMBERTB 
                (MEMBERNO, MEMBERID, MEMBERPASS, MEMBERNICK, MEMBEREMAIL, MEMBERGENDER, MEMBERBIRTH, MEMBERREGDT, MEMBERADMIN) 
                VALUES (MEMBERTB_SEQ.nextval, #{memberid}, #{memberpass}, #{membernick}, #{memberemail}, #{membergender}, #{memberbirth}, SYSDATE, #{memberadmin})
               <selectKey keyProperty="memberno" resultType="Integer">
                        SELECT NVL(MAX(memberno), 0) FROM MEMBERTB
                </selectKey>
        </insert>
        
     	 <delete id="delete" parameterType="BoardVO">
                DELETE FROM MEMBERTB WHERE MEMBERID = #{memberid}
                AND MEMBERPASS = #{memberpass}
        </delete>
        
        <!-- select를 써야함! -->
		<select id="logincheck" resultType="String" parameterType="BoardVO">
				SELECT MEMBERPASS FROM MEMBERTB WHERE MEMBERID = #{memberid}
		</select>
		
		<update id="update" parameterType="BoardVO">
				update MEMBERTB set MEMBERPASS = #{memberpass} where MEMBERID = #{memberid}
		</update>
		
</mapper>