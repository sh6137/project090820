<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="boardDAO">
        <select id="list" resultType="boardVO">
                SELECT * FROM BOARD
                ORDER BY seq
        </select>
        
        <select id="select" parameterType="int" resultType="boardVO">
                SELECT * FROM
                BOARD WHERE seq = #{seq}
        </select>
        
        <insert id="insert" parameterType="boardVO">
                INSERT INTO MEMBER_TB 
                (member_no, member_id, member_pass, member_nick, member_email, member_gender, member_birth, member_reg_dt, member_admin, member_like)
                VALUES
                (MEMBER_TB_SEQ.nextval, 
			#{member_id}, #{member_pass}, #{member_nick}, #{member_email}, #{member_gender}, #{member_birth}, SYSDATE, #{member_admin}, #{member_like})
                <selectKey keyProperty="seq" resultType="Integer">
                        SELECT NVL(MAX(member_no), 0) FROM MEMBER_TB
                </selectKey>
        </insert>
        
        <update id="update" parameterType="boardVO">
                UPDATE BOARD SET title = #{title},
                content = #{content},
                writer = #{writer}
                WHERE seq = #{seq} AND password = #{password}
        </update>
        
        <delete id="delete" parameterType="boardVO">
        	DELETE from MEMBER_TB where member_id = #{member_id}
                <!-- AND member_password = #{password} -->
        </delete>
        
        
</mapper>
